<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Nosso Amor ðŸ’™</title>

<style>
body{
    margin:0;
    font-family:Arial,Helvetica,sans-serif;
    background:linear-gradient(135deg,#bde7ff,#d8f3ff);
    color:#2b4c5a;
    text-align:center;
    overflow-x:hidden;
}
.tela{display:none;padding:40px;}
.ativa{display:block;}

button{
    padding:15px 30px;
    font-size:18px;
    border:none;
    border-radius:30px;
    background:#ffffff;
    color:#5aa9d6;
    cursor:pointer;
    transition:.3s;
}
button:hover{transform:scale(1.08);}

.music-card{
    margin:30px auto;
    width:340px;
    background:linear-gradient(145deg,#a8dcff,#cfeeff);
    padding:15px;
    border-radius:20px;
}
.card-conteudo{
    display:flex;
    align-items:center;
    gap:12px;
    background:#eaf7ff;
    padding:10px;
    border-radius:15px;
}
.capa{width:65px;height:65px;border-radius:8px;object-fit:cover;}

.foto-coracao{
    width:230px;
    height:210px;
    position:fixed;
    top:50%;
    transform:translateY(-50%);
}
.esquerda{left:40px;}
.direita{right:40px;}

.foto-coracao img{
    width:100%;
    height:100%;
    object-fit:cover;
    clip-path:path("M115 200 L20 110 A55 55 0 1 1 115 60 A55 55 0 1 1 210 110 Z");
}

#textoCarta{
    font-size:22px;
    line-height:1.7;
    max-width:800px;
    margin:auto;
    white-space:pre-line;
}

.chuva span{
    position:fixed;
    top:-50px;
    animation:cair linear infinite;
}
@keyframes cair{
    to{transform:translateY(110vh);}
}
</style>
</head>

<body>

<audio id="musica" loop>
    <source src="musica.mp3" type="audio/mp3">
</audio>

<div class="chuva" id="chuva"></div>

<div id="inicio" class="tela ativa">
    <h1>Feliz Dia dos Namorados ðŸ’™</h1>
    <button onclick="entrar()">Clique aqui amor</button>
</div>

<div id="principal" class="tela">

<div class="foto-coracao esquerda">
    <img src="foto1.jpg">
</div>

<div class="foto-coracao direita">
    <img src="foto2.jpg">
</div>

<h1>Nossa HistÃ³ria ðŸ’‘</h1>
<h2 id="contador"></h2>

<div class="music-card">
    <div class="card-conteudo">
        <img src="capa.jpg" class="capa">
        <div>
            <strong>Interessante</strong><br>
            Ferrugem
        </div>
    </div>
</div>

<br>
<button onclick="abrirCarta()">Ler Minha Carta ðŸ’Œ</button>

</div>

<div id="carta" class="tela">
<h1>Uma Carta Para VocÃª ðŸ’™</h1>
<div id="textoCarta"></div>
<br><br>
<button onclick="voltar()">Voltar</button>
</div>

<script>
const musica=document.getElementById("musica");

function entrar(){
    musica.play().catch(()=>{});
    trocarTela("principal");
    atualizarContador();
}

function trocarTela(id){
    document.querySelectorAll(".tela").forEach(t=>t.classList.remove("ativa"));
    document.getElementById(id).classList.add("ativa");
}

/* âœ… CONTADOR REAL CORRIGIDO */
function atualizarContador(){

    // cria datas sem horÃ¡rio (formato brasileiro)
    const inicio = new Date(2025, 9, 20); // 20 outubro 2025
    const hoje = new Date();

    // remove influÃªncia de horas
    const inicioUTC = Date.UTC(inicio.getFullYear(), inicio.getMonth(), inicio.getDate());
    const hojeUTC = Date.UTC(hoje.getFullYear(), hoje.getMonth(), hoje.getDate());

    const dias = Math.floor((hojeUTC - inicioUTC) / (1000 * 60 * 60 * 24));

    document.getElementById("contador").innerText =
        "Estamos juntos hÃ¡ " + dias + " dias ðŸ’™";
}

/* carta digitando */
const mensagem=`
Desde que vocÃª entrou na minha vida,
tudo ficou mais leve.

VocÃª Ã© meu sorriso diÃ¡rio,
minha paz,
meu amor.

Que a nossa histÃ³ria continue crescendo
cada dia mais.
Eu te amo ðŸ’™
`;

let i=0;
function abrirCarta(){
    trocarTela("carta");
    const el=document.getElementById("textoCarta");
    el.innerHTML="";
    function escrever(){
        if(i<mensagem.length){
            el.innerHTML+=mensagem.charAt(i);
            i++;
            setTimeout(escrever,35);
        }
    }
    escrever();
}
function voltar(){trocarTela("principal");}

/* chuva */
function criarCoracao(){
    const span=document.createElement("span");
    span.innerHTML="ðŸ’™";
    span.style.left=Math.random()*100+"vw";
    span.style.animationDuration=(3+Math.random()*5)+"s";
    document.getElementById("chuva").appendChild(span);
    setTimeout(()=>span.remove(),8000);
}
setInterval(criarCoracao,300);
</script>

</body>
</html>